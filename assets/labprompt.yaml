# Code & Create Lab â€” Lab Authoring Prompt (Corrected)
# Save as labprompt.yaml and use when generating a NEW student-friendly Lab.

role: >
  You are helping me write a NEW, student-friendly Lab for my Code & Create Lab.

mission: >
  Produce a single Markdown file that strictly follows the Lab Template.
  The Lab must reinforce the corresponding Guide and include open-ended
  moments so students can reason, test, and tuneâ€”not just copy/paste.

audience: "6thâ€“12th graders; curious, hands-on; short attention spans."
tone: "Clear, encouraging, stepwise; minimal jargon unless taught in the Guide."

# --------------------
# FIXED CONSTRAINTS
# --------------------
constraints:
  - "Keep section order exactly as in the template."
  - "Perform a full sweep after drafting: ensure all required sections are present and in the exact order."
  - "Discovery step: use a checklist + brief pseudocode only â€” NO concrete solution code."
  - "Include exactly one 'Skeleton Starter' section (no duplicates)."
  - "Insert a 'ğŸ†˜ Need a hint?' callout directly under '# Steps' linking to 'Example_Code/<lab-slug>/STUDENT_START.md' (lab-specific, not hard-coded)."
  - "Do NOT include full solution code anywhere in the lab; only reference the helper ('STUDENT_START.md')."
  - "Include a short rubric with Must and a Stretch item (1â€“3 bullets each)."
  - "Use Plan â†’ Build â†’ Code â†’ Test â†’ Iterate cadence."
  - "Provide a minimal Starter snippet (or starter file list) that is helpful, not a full solution."
  - "Add Troubleshooting with practical failure modes and fixes."
  - "Add Reflection questions that push students to explain choices/tuning."
  - "End with a Next up pointer to the logical next lab or guide."
  - "Prefer small, testable functions and safe exits (Ctrl-C) for hardware."
  - "If hardware is involved, include Safety & setup and explicit pin maps (if relevant)."
  - "Never require installing software on school laptops unless stated."

ties_to_guide:
  required: true
  guidance: >
    Add one or two short Guide tie-ins (callouts) that tell students where to look
    in the Guide when they get stuck (section names or topics provided), and design at
    least one step where the Guide is needed to proceed.

fields_to_fill:
  - "Lab Title: <Lab Title>"
  - "Level: <two-digit level>"
  - "Estimated Time: <range, e.g., 45â€“75 min>"
  - "Difficulty: <Beginner | Intermediate | Advanced>"
  - "Prereqs: <Guides and/or Labs this one builds on>"
  - "Target Guide: <Guide Name & number>"
  - "Hardware (if any): <list or 'None'>"
  - "Key Skills Practiced: <short, comma-separated list>"
  - "Starter Files?: <None | filenames>"
  - "Pin Map (if hardware): <table or bullets>"
  - "Next Lab/Guide: <where to go next>"

# --------------------
# TEMPLATE (matches 00/01 lab structure)
# --------------------
template_md: |
  ---
  title: <Lab Title>
  level: <##>
  estimated_time: <minâ€“max>
  difficulty: <Beginner|Intermediate|Advanced>
  prereqs:
    - <Guide or Lab 1>
    - <Guide or Lab 2>
  rubric:
    - âœ… Must: <clear, testable requirement 1>
    - âœ… Must: <clear, testable requirement 2>
    - âœ… Must: <clear, testable requirement 3>
    - â­ Stretch: <one compelling extension>
  ---

  # <Level ## â€” Lab Name>

  > ### Quick Summary
  > **Level:** <##> â€¢ **Time:** <minâ€“max>  
  > **Prereqs:** <list of links>  
  > **Hardware:** <None or list>  
  > **Youâ€™ll practice:** <short, comma-separated skills list>

  # Why This Matters
  One short paragraph that motivates the topic with concrete payoffs for the next lab or future guides.

  ---

  # What Youâ€™ll Build
  One-paragraph description of the artifact the learner will create, focusing on behavior over implementation details.

  ---

  # Outcomes
  By the end you can:
  - <behavior/skill 1>
  - <behavior/skill 2>
  - <behavior/skill 3>

  ---

  # Setup
  - <environment/tools>
  - <folder structure or files to create>

  ---

  # Steps

  > ğŸ†˜ **Need a hint?** If youâ€™re stuck for 5â€“7 minutes, open [STUDENT_START.md](Example_Code/<lab-slug>/STUDENT_START.md).

  ## 1) Plan (2â€“3 min)
  <small design choices; pull one concept from the Guide>

  ## 2) Build (if hardware) / Prep (if software-only) (3â€“5 min)
  <seat hardware, pin map, sanity checks OR project/file prep>

  ## 3) Code (8â€“12 min)
  <starter guidance; name small functions; avoid giving full solution>

  ## 4) Discovery (checklist + pseudocode) (8â€“12 min)
  **Checklist**
  - <criteria 1>
  - <criteria 2>
  - <criteria 3>

  **Pseudocode (guide, not code)**
  ```
  <brief pseudocode that guides decisions; no specific solution>
  ```

  ## 5) Test (3â€“5 min)
  <observations, sanity checks, tuning knobs>

  ## 6) Iterate (2â€“3 min)
  <one improvement loop: tune a constant, refactor a function, polish UX>

  ---

  # Skeleton Starter (start here)
  <exactly one minimal starter or link to starter files>

  ```python
  # keep small; demonstrate structure, I/O, or a key helper function
  ```

  ---

  # Submission / Demo Checklist
  - [ ] <outcome 1 stated in behavior terms students can demo>
  - [ ] <outcome 2>
  - [ ] <clean exit or safe stop>

  ---

  # Extensions (choose one)
  - <extension idea that uses knowledge from the Guide and invites creativity>
  - <second idea (optional)>

  ---

  # Troubleshooting
  - **Symptom** â†’ <likely cause> â†’ <student-doable fix>
  - **Symptom** â†’ <likely cause> â†’ <student-doable fix>

  ---

  # Reflection (1â€“2 sentences)
  - <prompt 1>
  - <prompt 2>

  ---

  # Next Up
  A single sentence that points to the next Lab/Guide and why itâ€™s a good next step.

post_generation_checklist:
  - "Structure: All required sections exist and follow the exact template order used in 00/01 (Quick Summary â†’ Why This Matters â†’ What Youâ€™ll Build â†’ Outcomes â†’ Setup â†’ # Steps with ## 1)â€¦## 6) â†’ Skeleton Starter â†’ Submission/Demo â†’ Extensions â†’ Troubleshooting â†’ Reflection â†’ Next Up)."
  - "Discovery (Step 4): Uses a checklist + brief pseudocode only (no concrete solution code)."
  - "Starters: Exactly one 'Skeleton Starter (start here)' section is present (no duplicates)."
  - "Hints: The 'ğŸ†˜ Need a hint?' callout appears directly under '# Steps' and links to the lab-specific helper: Example_Code/<lab-slug>/STUDENT_START.md (not hard-coded to Lab 00)."
  - "No spoilers: No full solution code anywhere; only reference STUDENT_START.md."
  - "Links: All Guide and helper links are relative and valid; filenames/slugs match the lab."
  - "Code fences & headings: All fences close; no duplicate headers; consistent ## 1)â€¦## 6) numbering."
  - "Student agency: At least 2 clear TODOs remain for learners."
  - "YAML front matter: Keys/values parse cleanly (quote values with colons or special characters)."

